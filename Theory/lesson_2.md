Системные таблицы
---

**`pg_user`** - таблица показывает всех пользователей в PG, эта 
табл предназначена для общего доступа, и по сути является отображением 
другой таблицы **`pg_shadow`** но только не показывает шифрованный пароль.

Поле passwd выводит пароль как ****

**`pg_shadow`** - табл существует для обратной совместимости, хранит в себе
пароли в шифровке md5.

**`pg_roles`** - показывает роли в БД, это более упрощенное и доступное для
все общего доступа каталог **`pg_authid`** в котором очищено поле пароля.

**`pg_authid`** - табл схожая с **`pg_roles`** но не для общего доступа, не 
скрывает пароль.

---
Вход в систему и файл pg_hba.conf
---

Файл настроек для Postgres находится на адресу 
`/etc/postgresql/<версияPG>/main/pg_hba.conf`

Файл `pg_hba.conf` содержит различные настройки,

---
Права и Роли пользователей.
---

В PG работает система ролей для пользователей, используя команду `\du` 
можно увидеть все роли, с правами которые они имеют.

    postgres=# \du
                            List of roles
    Role name |              Attributes              | Member of 
    ----------+--------------------------------------+-----------
    postgres  | Superuser, Create role,              | {}
              | Create DB, Replication, Bypass RLS   |
              |                                      |
    serg      | Superuser                            | {}
    user1     | Superuser                            | {}
    user2     | Superuser                            | {}
    user3     |                                      | {}

Тут можно увидеть всех пользователей и их права, самым широким спектром 
прав обладает главный пользователь `postgres` который создается в системе 
автоматически при установке самого PG. 

Создавать другого пользователя может только тот, у кого есть права супер 
пользователя, то есть должен иметь запись `Superuser` в своих правах, чтобы 
пользователь был супер юзером, при его создании требуется указать 
`WITH SUPERUSER` как можно увидеть это у `serg user1 user2` пользователей,
пользователя `user3` нет прав супер пользователя и он не может создавать
новых.

Чтобы войти в PG можно войти как главный пользователь `postgres` к 
примеру так:

    psql -U postgres

Или как любой другой пользователь, соединяясь с какой-либо БД:

    psql -U <user> <dbname>

Если мы входим в СУБД под суперпользователем `postgres`, или другого 
тоже супер пользователя, то увидим запись типа:

    postgres=#

Если войдем под не супер пользователем, то увидим:

    dbtwo=>

У супер пользователя, видим символ `=#` у не супер пользователя видим символ `=>`
