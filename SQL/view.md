Создание представлений
---

В `postgres` есть возможность создавать представления, `view` представляют собой 
результат запросов, который будет сохранен для переиспользования, представления
сохраняются в своем под пространстве имен, по сути представления это витрина с данными
выборки.

Представления созданные раз изменить нельзя.

Пример создания представления
```sql
CREATE VIEW view_name AS
  SELECT name, title, count
  FROM table_name
  WHERE count > 1000
  ;
```

---
Представления используются в случае:
---

1) Повторное использование `SQL`
2) После создания сложного запроса его можно легко использовать
3) Вывод фрагментов таблицы в место всей таблицы
4) Представления дают доступ к подмножеству таблиц а не ко всем таблицам
5) Представления могут изменять данные и выводить их не так как те 
хранятся в таблицах.

Созданные представления можно использовать и работать с ними как 
с реальными таблицами, фильтровать группировать и сортировать,
объединять одни представления с другими представлениями.

Представления это виртуальные таблицы данные которых хранятся в других
реальных таблицах, так что если реальные данные в таблицах изменятся
то и изменятся данные возвращаемые самими представлениями.

---
Общие правила и ограничения представлений:
---

- Представления, как и таблицы должны иметь уникальные имена, и не 
  должны пересекаются с реальными таблицами.

- Можно создать сколько угодно представлений

- Представления могут быть вложенными 

- Иногда запрещается использовать `ORDER BY` фильтрацию в запросах
  представлений

- Иногда требуется использовать псевдонимы для возвращаемых столбцов

- Представления нельзя индексировать и они не могут иметь триггеров

---


Чем нам это может помочь, в `postgres` нет возможности изменить порядок уже 
существующих столбцов в таблице, так же и нет возможности вставить новый столбец
в нужное место, все новые столбцы будут добавляться всегда только в конец таблицы.

В случае если нам требуется изменить порядок столбцов в таблице то вместо 
пересоздания всей таблицы, мы можем создать на нее представление и использовать 
его в место самой таблицы, благодаря уникальной фичи `postgres` с переадресацией, 
это позволит не пересоздавая таблицу, работать с ней как если бы все столбцы были
в указанном порядке, и в то же время не сохраняется возможность `CRUD` операций над 
таблицей.
