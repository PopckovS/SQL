№1. Вычисляемые поля
---

В случаем если нам требуются данные которых нет в чистом виде, которые могут быть 
сформированы путем соединения нескольких существующих полей, такие поля являются 
вычисляемыми.

Существует несколько способов как можно конкатенировать поля таблицы:

1) Использовать специальный оператор `||` 
2) Использовать специальную функцию `CONCAT`

```sql
    -- Конкатенация спец символом ||
    SELECT RTRIM(vend_name) || '(' || RTRIM(vend_country) ||')'
    FROM Vendors
    ORDER BY vend_name;

    -- Используем функцию CONCAT
    SELECT Concat(RTRIM(vend_name), '(', RTRIM(vend_country),')')
    FROM Vendors
    ORDER BY vend_name;

    -- Ответ
    Bear Emporium(USA)
    Bears R Us(USA)
```

---
№2. Агрегатные функции, Итоговые вычисления
---
Итоговые(Агрегирующие) функции, используются для итоговых подсчетов, а не 
для вывода промежуточной информации, функции этого типа реализованы во 
всех стандартах `SQL`.

`AVG()` - среднее значение данных по столбцу, то есть ищет среднее 
арифметическое, строки имеющие значение `NULL` игнорируются при выборке
этой функцией.

`COUNT()` - число строк в столбце, общее количество всех записей, для 
подсчета всех строк, можно использовать запись `COUNT(*)` она выдаст все
количество строк, вместе со значениями `NULL`. В случае если используется
выборка по конкретному столбцу, `COUNT(price)` то тогда строки со значениями
`NULL` будут проигнорированы как и при использовании функции `AVG()`

`MAX()` - ищет максимальное значение в столбце

`MIN()` - ищет наименьшее значение в столбце

`SUM()` - сумма всех значений в столбце

---

```sql
-- Найти среднею цену среди всех товаров поставщика с id = 15
SELECT AVG(price) AS avg_price
FROM Products 
WHERE vendor_id = '15'; 
```

```sql
-- Найти сумму всех товаров конкретного производителя  
SELECT SUM(quant) AS summ_order
FROM OrderItems
WHERE item = 25
```

---

Функцию `SUMM()` можно использовать для суммирования по вычисляемым полям,
к примеру этот запрос выведет общую сумму заказов, что вычисляются путем 
суммирования цены умноженной на количество товара, по каждому из полей.
```sql
SELECT SUM(item * quant) AS total_price
FROM OrderItems
WHERE order_item = 25
```

---
Функции обработки данных
---

`RTRIM()`  - отбрасывает все пробелы с лева.

`CONCAT()` - В некоторых СУБД требуется объединять вычисляемые поля при помощи функции
конкатенации, в такой функции не требуется указывать оператор объединения `||`

`UPPER()` - преобразует в верх регистр.

`LENGTH()` - возвращает длину строки

[//]: # (LEN&#40;&#41;)

`LOWER()` - в нижний регистр

[//]: # (LCASE&#40;&#41;)

`LTRIM()` - удаляет пробелы с левой стороны

`RTRIM()` - удаляет пробелы с правой стороны

[//]: # (to_char&#40;&#41;)

[//]: # (to_number&#40;&#41;)

[//]: # (to_date&#40;&#41;)

`YEAR()` - возвращает год из даты

`ABS()` - модуль числа
