Последовательности `SEQUENCE`
---
Сущность последовательностей можно сравнить с итераторами в `python`, это
счетчик чисел, который увеличивается при каждом обращении к нему на 1, и не
возвращается к прошлому значению.

Функции последовательностей:

1. `nextval('<название последовательности>')` - при каждом обращении увеличивает
счетчик последовательности на 1.
2. `currval('<название последовательности>')` - всегда получает текущее значение 
последовательности.

```sql
-- создание последовательности с названием `seq_1`
CREATE SEQUENCE seq_1; 

-- автоинкрементация последовательности на 1 еденицу
SELECT nextval('seq_1');

-- получение текущего значения последовательности
SELECT currval('seq_1');
```

Все последовательности хранятся в системной таблице `information_schema."sequences"`
получим информацию о созданной последовательности:

```sql
SELECT * 
FROM information_schema."sequences"
WHERE sequence_name = 'seq_1';
```

Что мы увидим, место хранения последовательности, и ее тип данных, по дефолту 
это `bigint`, тут же есть описание начального и минимально возможного значения,
значение на которое увеличивается последовательность и максимальное значение.

| sequence_catalog | sequence_schema | sequence_name | data_type |
|------------------|:---------------:|--------------:|----------:|
| user1            |     public      |         seq_1 |    bigint |

| start_value | minimum_value |       maximum_value |   increment | cycle_option |
|-------------|:-------------:|--------------------:|------------:|-------------:|
| 1           |       1       | 9223372036854775807 |           1 |           NO |

В структуре данных мы можем увидеть как все последовательности хранятся в 
каталоге `Sequences`

![ Структура ](img/seq_1.png)
